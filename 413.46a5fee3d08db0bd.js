"use strict";(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[413],{413:(C,g,r)=>{r.r(g),r.d(g,{GamesModule:()=>w});var h=r(814),d=r(385),t=r(946);function f(i,s){if(1&i&&(t.TgZ(0,"div",3)(1,"div",4),t._UZ(2,"img",5),t.TgZ(3,"div",6)(4,"h4",7),t._uU(5),t.qZA(),t.TgZ(6,"p",8),t._uU(7),t.qZA(),t.TgZ(8,"a",9),t._uU(9,"Play"),t.qZA()()()()),2&i){const e=s.$implicit;t.xp6(2),t.s9C("src",e.image,t.LSH),t.xp6(3),t.Oqu(e.title),t.xp6(2),t.Oqu(e.description),t.xp6(1),t.s9C("routerLink",e.link)}}let u=(()=>{class i{constructor(){this.games=[],this.games.push({title:"Snake",description:"Snake Game to remind old times",image:"https://wallpapers.com/images/high/green-snake-game-character-bqvxt2p5oibadgqn.webp",link:"snake"});for(let e=0;e<5;e++)this.games.push({title:"New Game",description:"Yet to come...",image:"./assets/defaultGameImage.jpg",link:"games"})}ngOnInit(){}static#t=this.\u0275fac=function(a){return new(a||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-games"]],decls:3,vars:1,consts:[["id","games",1,"container","grid-container","text-center"],[1,"row"],["class","col-sm-6 col-md-4 col-lg-3",4,"ngFor","ngForOf"],[1,"col-sm-6","col-md-4","col-lg-3"],[1,"card"],["alt","Game image",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"btn","btn-primary",3,"routerLink"]],template:function(a,n){1&a&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,f,10,4,"div",2),t.qZA()()),2&a&&(t.xp6(2),t.Q6J("ngForOf",n.games))},dependencies:[h.sg,d.rH]})}return i})();class l{constructor(s){this.x=0,this.y=0,this.color="yellow",s&&(this.color=s.color,this.x=s.x,this.y=s.y)}setNextRandomCell(s,e){this.x=Math.round(Math.random()*(s-10)/20),this.y=Math.round(Math.random()*(e-10)/20);var a=["red","green","aqua","coral","orchid"];this.color=a[Math.round(Math.random()*a.length)]}}class m{constructor(s){this.init_length=5,this.cells=[],this.direction="down";for(var e=this.init_length-1;e>=0;e--)this.cells.push(new l({x:s/20,y:e,color:"yellow"}))}drawSnake(s){for(var e=0;e<this.cells.length;e++)s.fillStyle=this.cells[e].color,s.strokeStyle="black",s.lineWidth=5,s.strokeRect(10*this.cells[e].x,10*this.cells[e].y,10,10),s.fillRect(10*this.cells[e].x,10*this.cells[e].y,10,10)}updateSnake(s){for(var e=this.cells[0].x,a=this.cells[0].y,n=1;n<this.cells.length;n++)this.cells[n].x==e&&this.cells[n].y==a&&(s.gameOver=!0);e==s.food.x&&a==s.food.y?(s.score++,this.cells[0].color=s.food.color,s.food.setNextRandomCell(s.canvasWidth,s.canvasHeight)):this.cells.pop();var c=0,o=0;switch(this.direction){case"right":c=e+1,o=a;break;case"left":c=e-1,o=a;break;case"down":c=e,o=a+1;break;case"up":c=e,o=a-1}this.cells.unshift(new l({x:c,y:o,color:"yellow"}));var S=Math.round(s.canvasWidth/10),x=Math.round(s.canvasHeight/10);(this.cells[0].y<0||this.cells[0].x>S||this.cells[0].x<0||this.cells[0].y>x)&&(s.gameOver=!0)}}function v(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",5)(1,"h3"),t._uU(2," Game Over "),t.qZA(),t.TgZ(3,"button",6),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.start())}),t._uU(4,"Restart"),t.qZA()()}}const p="SnakeHighScore",k=[{path:"",component:u},{path:"snake",component:(()=>{class i{constructor(){this.newHighScore="",this.snake=new m(0),this.stats={gameOver:!1,canvasHeight:0,canvasWidth:0,food:new l,score:0,highScore:0}}ngOnInit(){this.start()}start(){this.newHighScore="",this.reset(),this.canvas=document.getElementById("canvas"),this.pen=this.canvas.getContext("2d"),this.stats={gameOver:!1,canvasHeight:this.canvas.height,canvasWidth:this.canvas.width,food:new l,score:0,highScore:Number(localStorage.getItem(p))??0},this.snake=new m(this.canvas.width),this.stats.food.setNextRandomCell(this.canvas.width,this.canvas.height),this.stats.score=5,this.draw(),this.gameloop=setInterval(()=>{this.snake.updateSnake(this.stats),this.draw(),this.gameloop&&1==this.stats.gameOver&&(this.updateHighScore(),clearInterval(this.gameloop))},130)}updateHighScore(){this.stats.score>this.stats.highScore&&(this.stats.highScore=this.stats.score,this.newHighScore="New",localStorage.setItem(p,this.stats.highScore.toString()))}draw(){this.pen.clearRect(0,0,this.canvas.width,this.canvas.height),this.snake.drawSnake(this.pen),this.pen.fillStyle=this.stats.food.color,this.pen.fillRect(10*this.stats.food.x,10*this.stats.food.y,10,10),this.pen.fillStyle="white",this.pen.font="14px Roboto",this.pen.fillText("Score: "+this.stats.score,10,10)}KeyPressed(e){console.log("you pressed a key"),console.log(e),"left"!=this.snake.direction&&"ArrowRight"==e.key?this.snake.direction="right":"right"!=this.snake.direction&&"ArrowLeft"==e.key?this.snake.direction="left":"down"!=this.snake.direction&&"ArrowUp"==e.key?this.snake.direction="up":"up"!=this.snake.direction&&"ArrowDown"==e.key&&(this.snake.direction="down")}reset(){this.gameloop&&clearInterval(this.gameloop)}ngOnDestroy(){this.reset()}static#t=this.\u0275fac=function(a){return new(a||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-snake-game"]],hostBindings:function(a,n){1&a&&t.NdJ("keydown",function(o){return n.KeyPressed(o)},!1,t.evT)},decls:8,vars:3,consts:[["id","snake-game",1,"container","text-center"],[1,"row","justify-content-center"],["width","400","height","400","id","canvas",1,"col-md-8","col-lg-6","col-xl-5"],[1,"col-sm-6"],["class","col-sm-10",4,"ngIf"],[1,"col-sm-10"],[1,"btn-danger",3,"click"]],template:function(a,n){1&a&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"canvas",2),t.qZA(),t.TgZ(3,"div",1)(4,"div",3)(5,"h2"),t._uU(6),t.qZA()(),t.YNc(7,v,5,0,"div",4),t.qZA()()),2&a&&(t.xp6(6),t.AsE(" ",n.newHighScore," High Score: ",n.stats.highScore," "),t.xp6(1),t.Q6J("ngIf",n.stats.gameOver))},dependencies:[h.O5],styles:["canvas[_ngcontent-%COMP%]{background-color:#000}#snake-game[_ngcontent-%COMP%]{position:fixed}"]})}return i})()}];let y=(()=>{class i{static#t=this.\u0275fac=function(a){return new(a||i)};static#e=this.\u0275mod=t.oAB({type:i});static#s=this.\u0275inj=t.cJS({imports:[d.Bz.forChild(k),d.Bz]})}return i})(),w=(()=>{class i{static#t=this.\u0275fac=function(a){return new(a||i)};static#e=this.\u0275mod=t.oAB({type:i});static#s=this.\u0275inj=t.cJS({imports:[h.ez,y]})}return i})()}}]);