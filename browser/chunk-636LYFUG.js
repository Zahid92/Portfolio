import{B as D,C as x,a as p,b as M,c as _,d as G,e as I,f as r,g,h as f,i as u,j as v,k as o,l as a,m as k,n as H,o as y,p as O,q as w,r as l,s as S,u as R,v as N,w as E,x as F}from"./chunk-QDOZQJII.js";function q(i,t){if(i&1&&(o(0,"div",3)(1,"div",4),k(2,"img",5),o(3,"div",6)(4,"h4",7),l(5),a(),o(6,"p",8),l(7),a(),o(8,"a",9),l(9,"Play"),a()()()()),i&2){let e=t.$implicit;r(2),w("src",e.image,G),r(3),S(e.title),r(2),S(e.description),r(),w("routerLink",e.link)}}var T=(()=>{class i{constructor(){this.games=[],this.games.push({title:"Snake",description:"Snake Game to remind old times",image:"https://wallpapers.com/images/high/green-snake-game-character-bqvxt2p5oibadgqn.webp",link:"snake"});for(let e=0;e<5;e++)this.games.push({title:"New Game",description:"Yet to come...",image:"./assets/defaultGameImage.jpg",link:"games"})}ngOnInit(){}static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275cmp=g({type:i,selectors:[["app-games"]],standalone:!1,decls:3,vars:1,consts:[["id","games",1,"container","grid-container","text-center"],[1,"row"],["class","col-sm-6 col-md-4 col-lg-3",4,"ngFor","ngForOf"],[1,"col-sm-6","col-md-4","col-lg-3"],[1,"card"],["alt","Game image",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"btn","btn-primary",3,"routerLink"]],template:function(s,n){s&1&&(o(0,"div",0)(1,"div",1),u(2,q,10,4,"div",2),a()()),s&2&&(r(2),v("ngForOf",n.games))},dependencies:[N,D],encapsulation:2})}}return i})();var c=class{constructor(t){this.x=0,this.y=0,this.color="yellow",t&&(this.color=t.color,this.x=t.x,this.y=t.y)}setNextRandomCell(t,e){this.x=Math.round(Math.random()*(t-10)/20),this.y=Math.round(Math.random()*(e-10)/20);var s=["red","green","aqua","coral","orchid"];this.color=s[Math.round(Math.random()*s.length)]}};var d=class{constructor(t){this.init_length=5,this.cells=[],this.direction="down";for(var e=this.init_length-1;e>=0;e--)this.cells.push(new c({x:t/20,y:e,color:"yellow"}))}drawSnake(t){for(var e=0;e<this.cells.length;e++)t.fillStyle=this.cells[e].color,t.strokeStyle="black",t.lineWidth=5,t.strokeRect(this.cells[e].x*10,this.cells[e].y*10,10,10),t.fillRect(this.cells[e].x*10,this.cells[e].y*10,10,10)}updateSnake(t){for(var e=this.cells[0].x,s=this.cells[0].y,n=1;n<this.cells.length;n++)this.cells[n].x==e&&this.cells[n].y==s&&(t.gameOver=!0);e==t.food.x&&s==t.food.y?(t.score++,this.cells[0].color=t.food.color,t.food.setNextRandomCell(t.canvasWidth,t.canvasHeight)):this.cells.pop();var m=0,h=0;switch(this.direction){case"right":{m=e+1,h=s;break}case"left":{m=e-1,h=s;break}case"down":{m=e,h=s+1;break}case"up":{m=e,h=s-1;break}}this.cells.unshift(new c({x:m,y:h,color:"yellow"}));var b=Math.round(t.canvasWidth/10),A=Math.round(t.canvasHeight/10);(this.cells[0].y<0||this.cells[0].x>b||this.cells[0].x<0||this.cells[0].y>A)&&(t.gameOver=!0)}};function V(i,t){if(i&1){let e=H();o(0,"div",5)(1,"h3"),l(2," Game Over "),a(),o(3,"button",6),y("click",function(){M(e);let n=O();return _(n.start())}),l(4,"Restart"),a()()}}var L="SnakeHighScore",P=(()=>{class i{constructor(){this.newHighScore="",this.snake=new d(0),this.stats={gameOver:!1,canvasHeight:0,canvasWidth:0,food:new c,score:0,highScore:0}}ngOnInit(){this.start()}start(){this.newHighScore="",this.reset(),this.canvas=document.getElementById("canvas"),this.pen=this.canvas.getContext("2d"),this.stats={gameOver:!1,canvasHeight:this.canvas.height,canvasWidth:this.canvas.width,food:new c,score:0,highScore:Number(localStorage.getItem(L))??0},this.snake=new d(this.canvas.width),this.stats.food.setNextRandomCell(this.canvas.width,this.canvas.height),this.stats.score=5,this.draw(),this.gameloop=setInterval(()=>{this.snake.updateSnake(this.stats),this.draw(),this.gameloop&&this.stats.gameOver==!0&&(this.updateHighScore(),clearInterval(this.gameloop))},130)}updateHighScore(){this.stats.score>this.stats.highScore&&(this.stats.highScore=this.stats.score,this.newHighScore="New",localStorage.setItem(L,this.stats.highScore.toString()))}draw(){this.pen.clearRect(0,0,this.canvas.width,this.canvas.height),this.snake.drawSnake(this.pen),this.pen.fillStyle=this.stats.food.color,this.pen.fillRect(this.stats.food.x*10,this.stats.food.y*10,10,10),this.pen.fillStyle="white",this.pen.font="14px Roboto",this.pen.fillText("Score: "+this.stats.score,10,10)}KeyPressed(e){console.log("you pressed a key"),console.log(e),this.snake.direction!="left"&&e.key=="ArrowRight"?this.snake.direction="right":this.snake.direction!="right"&&e.key=="ArrowLeft"?this.snake.direction="left":this.snake.direction!="down"&&e.key=="ArrowUp"?this.snake.direction="up":this.snake.direction!="up"&&e.key=="ArrowDown"&&(this.snake.direction="down")}reset(){this.gameloop&&clearInterval(this.gameloop)}ngOnDestroy(){this.reset()}static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275cmp=g({type:i,selectors:[["app-snake-game"]],hostBindings:function(s,n){s&1&&y("keydown",function(h){return n.KeyPressed(h)},!1,I)},standalone:!1,decls:8,vars:3,consts:[["id","snake-game",1,"container","text-center"],[1,"row","justify-content-center"],["width","400","height","400","id","canvas",1,"col-md-8","col-lg-6","col-xl-5"],[1,"col-sm-6"],["class","col-sm-10",4,"ngIf"],[1,"col-sm-10"],[1,"btn-danger",3,"click"]],template:function(s,n){s&1&&(o(0,"div",0)(1,"div",1),k(2,"canvas",2),a(),o(3,"div",1)(4,"div",3)(5,"h2"),l(6),a()(),u(7,V,5,0,"div",4),a()()),s&2&&(r(6),R(" ",n.newHighScore," High Score: ",n.stats.highScore," "),r(),v("ngIf",n.stats.gameOver))},dependencies:[E],styles:["canvas[_ngcontent-%COMP%]{background-color:#000}#snake-game[_ngcontent-%COMP%]{position:fixed}"]})}}return i})();var Y=[{path:"",component:T},{path:"snake",component:P}],W=(()=>{class i{static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275mod=f({type:i})}static{this.\u0275inj=p({imports:[x.forChild(Y),x]})}}return i})();var ce=(()=>{class i{static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275mod=f({type:i})}static{this.\u0275inj=p({imports:[F,W]})}}return i})();export{ce as GamesModule};
